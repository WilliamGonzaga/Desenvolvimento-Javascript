<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>To-Do List com Bootstrap</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

  <div class="container py-5">
    <h1 class="text-center mb-4">üìù To-Do List</h1>

    <div class="mb-3 d-flex">
      <input type="text" id="tarefaInput" class="form-control me-2" placeholder="Digite uma tarefa">
      <button class="btn btn-primary" onclick="adicionarTarefa()">Adicionar</button>
    </div>

    <ul class="list-group mb-3" id="listaTarefas"></ul>

    <p class="text-end fw-bold">Total de tarefas: <span id="contador">0</span></p>
  </div>


  <script>
    
    let tarefas = [];

    function adicionarTarefa(){
        let input = document.getElementById("tarefaInput");
        let texto = input.value.trim();
        if (texto === ""){
            alert("Digite uma Tarefa Valida");
            return;
        }

        if(tarefas.includes(texto)){
            alert("Essa tarefa j√° foi adicionado")
            return;
        }

        tarefas.push(texto);
        input.value = "";

        atualizarLista();

    }

    function removerTarefa(item){
      tarefas.splice(item,1);
      atualizarLista();
    }

    function editarTarefa(item){
      let tarefaEditada = prompt("Editar a Tarefa: ", tarefas[item]);
      if(tarefaEditada.trim() === ""){
        alert("O texto da Tarefa n√£o pode estar vazio!");
        return;
      };

      if(tarefas.includes(tarefaEditada)){
        alert("Tarefa ja existe na lista!");
        return;
      };

    tarefas[item] = tarefaEditada;

    atualizarLista();
    }

    function atualizarLista(){
        let lista = document.getElementById("listaTarefas");
        lista.innerHTML = "";

        for(let i = 0; i < tarefas.length; i++){
            let item = document.createElement("li");
            item.className = "list-group-item";

            item.innerHTML = `
                ${tarefas[i]}
                <div class="float-end">
                <button class="btn btn-sm btn-warning" onclick="editarTarefa(${i})">Editar</button>
                
                <button class="btn btn-sm btn-danger" onclick="removerTarefa(${i})">Remover</button>    
                </div>
            `;

            lista.appendChild(item);
        }

        atualiazarContador();

    };
    
    function atualiazarContador(){
      document.getElementById("contador").textContent = tarefas.length;
    };

    function salvarLocalStorage(){

    };

    function carregarLocalStorage(){

    };

  </script>
</body>

</html>